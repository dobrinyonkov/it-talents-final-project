<div id="chatRoom._id" class="box box-primary direct-chat direct-chat-primary">
    <div class="box-header with-border">
        <h3 class="box-title">{{chatRoom.user1.isMe ? chatRoom.user2.name : chatRoom.user1.name}}</h3>

        <div class="box-tools pull-right">
            <span data-toggle="tooltip" title="" class="badge bg-light-blue" data-original-title="3 New Messages">3</span>
            <button ng-click="closeChatWindow(chatRoom)" type="button" class="btn btn-box-tool" data-widget="remove">
                <i class="fa fa-times"></i>
            </button>
        </div>
    </div>
    <!-- /.box-header -->
    <div class="box-body">
        <!-- Conversations are loaded here -->
        <div class="direct-chat-messages">
            <!-- Message. Default to the left -->
            <div ng-repeat="message in chatRoom.content | orderBy:'id':true track by $index" ng-class="chatRoom.user1.isMe && message.sender === chatRoom.user1._id ? 'direct-chat-msg right' : chatRoom.user2.isMe && message.sender === chatRoom.user2._id ? 'direct-chat-msg-right' : 'direct-chat-msg'">
                <div class="direct-chat-msg">
                    <div class="direct-chat-info clearfix">
                        <span class="direct-chat-timestamp pull-right">{{message.date}}</span>
                    </div>
                    <!-- /.direct-chat-info -->
                    <img class="direct-chat-img" ng-src="{{message.profilePic}}" alt="Message User Image">
                    <!-- /.direct-chat-img -->
                    <div class="direct-chat-text">
                        {{message.text}}
                    </div>
                    <!-- /.direct-chat-text -->
                </div>
                <!-- /.direct-chat-msg -->
            </div>
            <!--/.direct-chat-messages-->
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
            <div>
                <div class="input-group">
                    <input ng-keydown="sendDouEnter({$event: $event, chatRoom: chatRoom, message: messageText})" ng-model="$parent.messageText" type="text" name="message" placeholder="Type Message ..." class="form-control singleChatWindowInput">
                    <span class="input-group-btn">
                        <button ng-click="sendMessage({chatRoom: chatRoom, textContent: messageText})" type="submit" class="btn btn-primary btn-flat">Send</button>
                    </span>
                </div>
            </div>
        </div>
        <!-- /.box-footer-->
    </div>
    <!--/.direct-chat -->
</div>